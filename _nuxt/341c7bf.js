(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{205:function(t,e,r){t.exports=r.p+"img/DNS.18fe1f1.png"},206:function(t,e,r){t.exports=r.p+"img/DNS-DNSSEC.0de4990.png"},207:function(t,e,r){t.exports=r.p+"img/DNSCrypt-DNSSEC.10ec73d.png"},235:function(t,e,r){"use strict";r.r(e);var o={head:function(){return{title:"DNSCrypt - FAQ - DNSCrypt vs DoH",meta:[{hid:"description",name:"description",content:"DNSCrypt vs DoH - A comparison of options for secure DNS."}]}}},n=r(21),component=Object(n.a)(o,(function(){var t=this,e=t._self._c;return e("section",[e("h1",{attrs:{id:"frequently-asked-questions"}},[t._v("Frequently Asked Questions")]),t._v(" "),e("h2",{attrs:{id:"what-is-dnscrypt%3F"}},[t._v("What is DNSCrypt?")]),t._v(" "),t._m(0),t._v(" "),e("p",[t._v("It is an open specification, with free and open source reference implementations, and it is not affiliated with any company or organization.")]),t._v(" "),e("h2",{attrs:{id:"what-is-dns%3F"}},[t._v("What is DNS?")]),t._v(" "),e("p",[t._v("DNS is a globally distributed database that maps names to values. It is constantly used by all applications communicating over the Internet and private networks.")]),t._v(" "),t._m(1),t._v(" "),e("p",[t._v("So what is the problem?")]),t._v(" "),e("p",[t._v("Originally, the DNS protocol didn’t include any encryption nor authentication mechanisms; any device between a client and a DNS server could monitor and interfere with DNS traffic, without this being detected by the client.")]),t._v(" "),e("p",[t._v("Attackers on a local network can abuse this to conduct trivial attacks. More recently, malicious DNS servers have been massively used by malware.")]),t._v(" "),e("p",[t._v("The DNS security extensions (DNSSEC) were designed to partially mitigate this design flaw, by adding digital signatures to DNS responses.")]),t._v(" "),e("v-container",{attrs:{"text-xs-center":""}},[e("img",{staticClass:"fill-width",attrs:{alt:"DNS",src:r(205)}})]),t._v(" "),e("h2",{attrs:{id:"what-is-dnssec"}},[t._v("What is DNSSEC")]),t._v(" "),e("p",[t._v("DNSSEC is a DNS Extension that allows a client to validate the DNS response on supported domains and TLDs.")]),t._v(" "),e("p",[t._v("Resolvers check the digital signature of DNS responses to verify that the data match what the zone owner initially configured.")]),t._v(" "),t._m(2),t._v(" "),e("v-container",{attrs:{"text-xs-center":""}},[e("img",{staticClass:"fill-width",attrs:{alt:"DNSSEC",src:r(206)}})]),t._v(" "),e("h2",{attrs:{id:"why-use-dnscrypt%3F"}},[t._v("Why use DNSCrypt?")]),t._v(" "),e("ul",[e("li",[e("v-icon",{attrs:{color:"green"}},[t._v("thumb_up")]),t._v(" Encrypts and authenticates the DNS traffic")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"green"}},[t._v("thumb_up")]),t._v(" Specifically designed for DNS")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"green"}},[t._v("thumb_up")]),t._v(" Has been battle tested since 2011")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"green"}},[t._v("thumb_up")]),t._v(" A good amount of servers support the protocol")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"green"}},[t._v("thumb_up")]),t._v(" Includes mitigations against DNS amplification attacks")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"green"}},[t._v("thumb_up")]),t._v(" Can use UDP and TCP for transport")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"green"}},[t._v("thumb_up")]),t._v(" Inherently supports reordering, parallelism and priorities")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"green"}},[t._v("thumb_up")]),t._v(" Keeps a minimal number of states server-side")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"green"}},[t._v("thumb_up")]),t._v(" Very simple to implement; requires only two standard cryptographic constructions")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"green"}},[t._v("thumb_up")]),t._v(" Doesn’t require a TLS stack, which vastly reduces the attack surface")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"green"}},[t._v("thumb_up")]),t._v(" Doesn’t have any insecure parameters")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"green"}},[t._v("thumb_up")]),t._v(" Doesn’t rely on X509 certificates and Certificate Authorities")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"green"}},[t._v("thumb_up")]),t._v(" Cannot be MITM’d by standard tools")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"green"}},[t._v("thumb_up")]),t._v(" Enforces certificate signatures")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"green"}},[t._v("thumb_up")]),t._v(" Has a complete specification since 2013")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"green"}},[t._v("thumb_up")]),t._v(" Regular DNS and DNSCrypt can share the same port (although port 443 is recommended due to routers frequently hijacking port 53)")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"green"}},[t._v("thumb_up")]),t._v(" DNSCrypt and DoH can also be served simultaneously on the same port")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"green"}},[t._v("thumb_up")]),t._v(" Can hide client IP addresses from servers (Anonymized DNSCrypt)")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"green"}},[t._v("thumb_up")]),t._v(" A prototype using post-quantum cryptography is available")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"red"}},[t._v("thumb_down")]),t._v(" The "),e("a",{attrs:{href:"https://datatracker.ietf.org/doc/draft-denis-dprive-dnscrypt/"}},[t._v("RFC")]),t._v(" is still a work in progress")],1)]),t._v(" "),e("v-container",{attrs:{"text-xs-center":""}},[e("img",{staticClass:"fill-width",attrs:{alt:"DNSCrypt with DNSSEC",src:r(207)}})]),t._v(" "),e("h2",{attrs:{id:"how-do-i-get-started-with-using-dnscrypt%3F"}},[t._v("How do I get started with using DNSCrypt?")]),t._v(" "),e("p",[t._v("See "),e("router-link",{attrs:{to:"/implementations"}},[t._v("Client Implementations")])],1),t._v(" "),e("h2",{attrs:{id:"how-do-i-get-started-with-running-my-own-dnscrypt-server%3F"}},[t._v("How do I get started with running my own DNSCrypt server?")]),t._v(" "),e("p",[t._v("See "),e("router-link",{attrs:{to:"/implementations#server-implementations"}},[t._v("Server Implementations")])],1),t._v(" "),e("h2",{attrs:{id:"other-protocols"}},[t._v("Other protocols")]),t._v(" "),e("h3",{attrs:{id:"%5Bdns-over-ssh%5D"}},[t._v("[DNS over SSH]")]),t._v(" "),e("ul",[e("li",[e("v-icon",{attrs:{color:"green"}},[t._v("thumb_up")]),t._v(" Full encryption of the DNS protocol")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"green"}},[t._v("thumb_up")]),t._v(" Can be deployed on any system already running an SSH server")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"green"}},[t._v("thumb_up")]),t._v(" Battle-tested, widely implemented transport protocol")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"green"}},[t._v("thumb_up")]),t._v(" Doesn’t depend on root CAs")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"green"}},[t._v("thumb_up")]),t._v(" Can use DNSSEC or private CAs for public key verification")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"green"}},[t._v("thumb_up")]),t._v(" Supports multiple authentication mechanisms")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"green"}},[t._v("thumb_up")]),t._v(" Doesn’t require a TLS stack; modern implementations do not even require OpenSSL any more")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"red"}},[t._v("thumb_down")]),t._v(" Very tricky to configure securely")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"red"}},[t._v("thumb_down")]),t._v(" Requires TCP")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"red"}},[t._v("thumb_down")]),t._v(" Current implementations don’t scale well server-side")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"red"}},[t._v("thumb_down")]),t._v(" UDP queries "),e("a",{attrs:{href:"http://zarb.org/~gc/html/udp-in-ssh-tunneling.html"}},[t._v("require TCP encapsulation")])],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"red"}},[t._v("thumb_down")]),t._v(" The SFTP protocol supports reordering and parallelism, but common DNS-over-SSH tunelling cannot use this")],1)]),t._v(" "),t._m(3),t._v(" "),e("ul",[e("li",[e("v-icon",{attrs:{color:"green"}},[t._v("thumb_up")]),t._v(" Full encryption of the DNS protocol")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"green"}},[t._v("thumb_up")]),t._v(" Has a low, but increasing number of servers in deployment")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"green"}},[t._v("thumb_up")]),t._v(" Partially specified as a RFC")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"green"}},[t._v("thumb_up")]),t._v(" "),e("a",{attrs:{href:"https://dnsprivacy.org/wiki/display/DP/DNS+Privacy+Implementation+Status"}},[t._v("Many implementations completed at various stages")])],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"red"}},[t._v("thumb_down")]),t._v(" Provides more information than regular DNS to resolver operators in order to fingerprint clients, and this has (intentionally?) never been addressed in the specification")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"red"}},[t._v("thumb_down")]),t._v(" Uses a dedicated port (853) likely to be blocked or monitored in situations where DNS encryption is useful")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"red"}},[t._v("thumb_down")]),t._v(" Initial connection is slow due to the long handshake (until TLS 1.3 is deployed, which can take time due to "),e("a",{attrs:{href:"https://chefkochblog.wordpress.com/2017/12/20/tls-1-3-gets-blocked-by-cisco-avast-nsa/"}},[t._v("middleboxes")]),t._v(")")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"red"}},[t._v("thumb_down")]),t._v(" Not well understood even by its proponents. It is a truck, as it is heavy and slow to load, but most if not all implementations perform a full round trip for every packet (even the excellent "),e("code",[t._v("miekg/dns")]),t._v(" library as used by Tenta).")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"red"}},[t._v("thumb_down")]),t._v(" Padding rules haven’t been specified besides a draft that doesn’t have any implementations, and a last-minute hack that requires altering DNS record sets before wrapping them")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"red"}},[t._v("thumb_down")]),t._v(" Requires a full TLS stack, introducing a large attack surface")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"red"}},[t._v("thumb_down")]),t._v(" Difficult to implement securely. Validating TLS certificates in non-browser software is "),e("a",{attrs:{href:"https://crypto.stanford.edu/~dabo/pubs/abstracts/ssl-client-bugs.html"}},[t._v("the most dangerous code in the world")])],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"red"}},[t._v("thumb_down")]),t._v(" Readily compatible with industry-standard TLS interception/monitoring devices. Having people "),e("a",{attrs:{href:"https://sk.tl/3n7mJ9K4"}},[t._v("install additional root certificates")]),t._v(" is easier than custom software. Vendors are always ready to "),e("a",{attrs:{href:"https://sk.tl/7xmjiWwx"}},[t._v("passively extract information from TLS 1.3 sessions")]),t._v(".")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"red"}},[t._v("thumb_down")]),t._v(" Requires TCP")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"red"}},[t._v("thumb_down")]),t._v(" Requires sessions tracking on the server")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"red"}},[t._v("thumb_down")]),t._v(" TLS is a generic transport mechanism. It doesn’t support reordering and parallelism and doesn’t include any ways to manage priorities. New mechanisms need to be invented and implemented to do so.")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"red"}},[t._v("thumb_down")]),t._v(" Key management can be surprisingly hard especially if public key pinning is used by clients")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"red"}},[t._v("thumb_down")]),t._v(" Allows insecure algorithms and parameters")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"red"}},[t._v("thumb_down")]),t._v(" Will be difficult to improve without introducing more hacks. Unlikely to benefit from any improvements besides new TLS versions or homegrown reinventions.")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"red"}},[t._v("thumb_down")]),t._v(" Questionable practical benefits over DoH")],1)]),t._v(" "),t._m(4),t._v(" "),e("ul",[e("li",[e("v-icon",{attrs:{color:"green"}},[t._v("thumb_up")]),t._v(" Full encryption of the DNS protocol")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"green"}},[t._v("thumb_up")]),t._v(" New implementations are being developed")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"green"}},[t._v("thumb_up")]),t._v(" The minimum version of HTTP used by DoH should be HTTP/2")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"green"}},[t._v("thumb_up")]),t._v(" Uses standard HTTP/2 or HTTP/3, on the standard port (443)")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"green"}},[t._v("thumb_up")]),t._v(" Will automatically benefit from improvements made to HTTP")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"green"}},[t._v("thumb_up")]),t._v(" Less likely to be blocked than other options")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"green"}},[t._v("thumb_up")]),t._v(" Can be trivially deployed on any web server, and run along existing websites; DNS response are served like simple web pages")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"green"}},[t._v("thumb_up")]),t._v(" Can share the same infrastructure as existing websites, and share the same certificates")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"green"}},[t._v("thumb_up")]),t._v(" Simple to implement over any existing web stack")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"green"}},[t._v("thumb_up")]),t._v(" Immediately compatible with caching proxies and CDNs")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"green"}},[t._v("thumb_up")]),t._v(" Allows web browsers to perform DNS queries using Javascript")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"green"}},[t._v("thumb_up")]),t._v(" Supports reordering, parallelism and priorities, thanks to HTTP/2")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"green"}},[t._v("thumb_up")]),t._v(" Can leverage existing padding mechanisms (HTTP/2 frames padding)")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"green"}},[t._v("thumb_up")]),t._v(" Implemented by Google DNS")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"green"}},[t._v("thumb_up")]),t._v(" Supported by CuRL: will soon be available in all programming languages with bindings for libcurl")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"green"}},[t._v("thumb_up")]),t._v(" Available in "),e("a",{attrs:{href:"https://bugzilla.mozilla.org/show_bug.cgi?id=1434852"}},[t._v("Firefox")])],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"green"}},[t._v("thumb_up")]),t._v(" Specified as a RFC")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"green"}},[t._v("thumb_up")]),t._v(" Can be accessed via relays (ODoH, DooH), even though this leaks more information that expected")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"red"}},[t._v("thumb_down")]),t._v(" Provides more information than regular DNS to resolver operators in order to fingerprint clients, but this is being addressed in the specification")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"red"}},[t._v("thumb_down")]),t._v(" Requires a full TLS stack and a web server")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"red"}},[t._v("thumb_down")]),t._v(" Interception/monitoring tools are readily available")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"red"}},[t._v("thumb_down")]),t._v(" Key management can be surprisingly hard especially if public key pinning is used by clients")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"red"}},[t._v("thumb_down")]),t._v(" Allows insecure algorithms and parameters")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"red"}},[t._v("thumb_down")]),t._v(" Requires TCP")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"red"}},[t._v("thumb_down")]),t._v(" Rarely deployed in a way that would prevent it to be trivially blocked without ECH")],1)]),t._v(" "),t._m(5),t._v(" "),e("ul",[e("li",[e("v-icon",{attrs:{color:"red"}},[t._v("thumb_down")]),t._v(" No known implementations")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"red"}},[t._v("thumb_down")]),t._v(" Many security vulnerabilities in OpenSSL due to DTLS")],1)]),t._v(" "),t._m(6),t._v(" "),e("ul",[e("li",[e("v-icon",{attrs:{color:"green"}},[t._v("thumb_up")]),t._v(" Full encryption of the DNS protocol")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"red"}},[t._v("thumb_down")]),t._v(" Uses a dedicated port: 853, can’t use port 53")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"red"}},[t._v("thumb_down")]),t._v(" Client devices and IP addresses can be linked")],1),t._v(" "),e("li",[e("v-icon",{attrs:{color:"red"}},[t._v("thumb_down")]),t._v(" No clear advantage over HTTP/3")],1)]),t._v(" "),e("h2",{attrs:{id:"practical-considerations"}},[t._v("Practical considerations")]),t._v(" "),e("p",[t._v("All the solutions above offer the same practical security level. Compatibility with existing tools and infrastructure is what makes an actual difference.")])],1)}),[function(){var t=this,e=t._self._c;return e("p",[e("a",{attrs:{href:"https://dnscrypt.info/"}},[t._v("DNSCrypt")]),t._v(" is a protocol that authenticates communications between a DNS client and a DNS resolver. It prevents DNS spoofing. It uses cryptographic signatures to verify that responses originate from the chosen DNS resolver and haven’t been tampered with.")])},function(){var t=this,e=t._self._c;return e("p",[t._v("It typically translates names such as "),e("code",[t._v("www.google.com")]),t._v(" into IP addresses such as "),e("code",[t._v("216.58.199.36")]),t._v(", so that devices can determine the path to follow in order to communicate with each other.")])},function(){var t=this,e=t._self._c;return e("p",[t._v("Unfortunately, "),e("a",{attrs:{href:"https://labs.ripe.net/Members/rene_bakker/bang-for-the-buck-the-adoption-of-dnssec-and-return-on-investment"}},[t._v("DNSSEC has received limited adoption")]),t._v(", remains incompatible with some devices and software pieces, and doesn’t prevent the traffic from being monitored.")])},function(){var t=this,e=t._self._c;return e("h3",{attrs:{id:"dns-over-tls-(rfc7858)"}},[t._v("DNS over TLS ("),e("a",{attrs:{href:"https://tools.ietf.org/html/rfc7858"}},[t._v("RFC7858")]),t._v(")")])},function(){var t=this._self._c;return t("h3",{attrs:{id:"dns-over-https-(doh)"}},[t("a",{attrs:{href:"https://www.rfc-editor.org/rfc/rfc8484.txt"}},[this._v("DNS over HTTPS (DoH)")])])},function(){var t=this,e=t._self._c;return e("h3",{attrs:{id:"dns-over-dtls-(rfc8094)"}},[t._v("DNS-over-DTLS ("),e("a",{attrs:{href:"https://tools.ietf.org/html/rfc8094"}},[t._v("RFC8094")]),t._v(")")])},function(){var t=this,e=t._self._c;return e("h3",{attrs:{id:"%5Bdns-over-quic%5D-(rfc9250)"}},[t._v("[DNS over QUIC] ("),e("a",{attrs:{href:"https://tools.ietf.org/html/rfc9250"}},[t._v("RFC9250")]),t._v(")")])}],!1,null,null,null);e.default=component.exports}}]);